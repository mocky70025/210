# Vercel デプロイ詳細手順（完全無料・ステップバイステップ）

フロントエンドをVercelにデプロイします。これも完全無料で、とても簡単です！

## 📋 事前準備

- GitHubアカウント（既にリポジトリ `mocky70025/210` にコードがある）
- RenderのバックエンドURL（既に取得済み: `https://two10-u8xp.onrender.com/`）

---

## ステップ1: Vercelアカウントを作成

### 1-1. Vercelのサイトにアクセス

1. ブラウザで [https://vercel.com](https://vercel.com) を開く
2. 右上の「Sign Up」または「Log In」をクリック

### 1-2. GitHubアカウントでログイン

1. 「Continue with GitHub」をクリック
2. GitHubの認証画面が開くので、「Authorize Vercel」をクリック
3. 必要に応じて、GitHubのパスワードを入力

**✅ これでVercelのダッシュボードにアクセスできるようになりました！**

---

## ステップ2: 新しいプロジェクトを作成

### 2-1. ダッシュボードを開く

1. Vercelのダッシュボードが表示されます
2. 「Add New...」ボタンをクリック
3. 「Project」を選択

**💡 もし「Add New...」ボタンが見つからない場合：**
- 画面右上の「Add New Project」ボタンを探す
- または、ダッシュボードの「Import Project」ボタンをクリック

---

## ステップ3: GitHubリポジトリをインポート

### 3-1. リポジトリを検索

1. 「Import Git Repository」セクションが表示されます
2. 検索ボックスに `210` と入力
3. `mocky70025/210` が表示されるので、クリック
4. 「Import」ボタンをクリック

**✅ リポジトリがインポートされました！**

---

## ステップ4: プロジェクト設定

### 4-1. 基本設定

以下の項目を確認・設定します：

| 項目 | 設定値 | 説明 |
|------|--------|------|
| **Project Name** | `minigame-platform` | 任意の名前（デフォルトのままでOK） |
| **Framework Preset** | `Vite` | 自動検出される場合があります |
| **Root Directory** | `client` | ⚠️ **重要：ここに `client` と入力** |
| **Build Command** | `npm run build` | 自動設定される場合があります |
| **Output Directory** | `dist` | 自動設定される場合があります |

### 4-2. 重要：Root Directoryを設定

⚠️ **ここが重要です！**

1. 「Root Directory」の欄を見つける
2. 「Edit」ボタンをクリック（または直接入力）
3. 入力欄に **`client`** と入力
   - これにより、`client` フォルダ内のコードがデプロイされます

**💡 Root Directoryが見つからない場合：**
- 「Configure Project」をクリック
- または、設定画面を下にスクロール

---

## ステップ5: 環境変数を設定

### 5-1. Environment Variablesセクションを開く

1. 設定画面を下にスクロール
2. 「Environment Variables」セクションを見つける
3. 「Add」ボタンをクリック

### 5-2. 環境変数を追加

**環境変数を追加：**

1. **Name**: `VITE_API_URL` と入力
   - ⚠️ **重要**: `VITE_` で始まる必要があります（Viteの要件）

2. **Value**: `https://two10-u8xp.onrender.com` と入力
   - これはRenderのバックエンドURLです
   - 末尾のスラッシュ（/）は不要です

3. **Environment**: 以下の3つすべてにチェックを入れる
   - ✅ Production
   - ✅ Preview
   - ✅ Development

4. 「Add」または「Save」をクリック

**✅ 環境変数の設定が完了しました！**

---

## ステップ6: デプロイを開始

### 6-1. デプロイボタンをクリック

1. 画面下部の「Deploy」ボタンをクリック
2. デプロイが自動的に開始されます

### 6-2. デプロイの進行を確認

1. ダッシュボードに戻ると、デプロイの進行状況が表示されます
2. 「Building...」→「Deploying...」→「Ready」の順に進みます
3. 初回デプロイには **2〜3分** かかります

**💡 デプロイ中にできること：**
- 「Logs」タブをクリックして、ビルドログを確認できます
- エラーがあれば、ログに表示されます

---

## ステップ7: デプロイ完了を確認

### 7-1. URLを確認

1. デプロイが完了すると、「Ready」と表示されます
2. 画面の上部にURLが表示されます：
   ```
   https://minigame-platform.vercel.app
   ```
   （実際のURLは異なる場合があります）

### 7-2. URLをメモ

**このURLをメモしてください！**

### 7-3. 動作確認

1. ブラウザでURLにアクセス
2. ログイン画面が表示されれば成功です！

---

## ステップ8: Renderの環境変数を更新

フロントエンドのデプロイが完了したら、バックエンド（Render）の環境変数を更新します。

### 8-1. Renderダッシュボードを開く

1. [Render](https://dashboard.render.com/) のダッシュボードにアクセス
2. デプロイしたサービス（`two10-u8xp`）を選択

### 8-2. 環境変数を更新

1. 左側のメニューから「Environment」をクリック
2. `FRONTEND_URL` を見つける
3. 「Edit」ボタンをクリック
4. **Value** を VercelのURLに変更：
   ```
   https://your-vercel-app.vercel.app
   ```
   （実際のVercelのURLに置き換えてください）
5. 「Save Changes」をクリック

### 8-3. 自動再デプロイ

1. 環境変数を保存すると、自動的に再デプロイが開始されます
2. 数分待つと再デプロイが完了します

**✅ これでフロントエンドとバックエンドが連携されました！**

---

## ✅ デプロイ完了！

これでアプリケーションが完全にデプロイされました！

### 確認事項

1. ✅ バックエンド（Render）: `https://two10-u8xp.onrender.com/`
2. ✅ フロントエンド（Vercel）: `https://your-vercel-app.vercel.app`
3. ✅ 環境変数が正しく設定されている

---

## 🆘 トラブルシューティング

### デプロイが失敗する場合

1. **ログを確認**:
   - Vercelダッシュボードでプロジェクトを選択
   - 「Deployments」タブをクリック
   - 失敗したデプロイをクリック
   - 「Build Logs」を確認

2. **よくあるエラー**:
   - **Root Directoryが間違っている**: `client` になっているか確認
   - **環境変数名が間違っている**: `VITE_API_URL` になっているか確認（`VITE_` で始まる必要がある）
   - **環境変数の値が間違っている**: RenderのURLが正しいか確認

### アプリが動作しない場合

1. **ブラウザのコンソールを確認**:
   - F12キーを押して開発者ツールを開く
   - 「Console」タブでエラーを確認

2. **Socket.IO接続エラー**:
   - Renderの環境変数 `FRONTEND_URL` が正しく設定されているか確認
   - VercelのURLに末尾のスラッシュがないか確認

### 環境変数が反映されない場合

- 環境変数を追加・変更したら、再デプロイが必要です
- 「Deployments」タブで「Redeploy」をクリック

---

## 📞 まだわからない場合

1. Vercelのログを確認（「Deployments」→「Build Logs」）
2. ブラウザのコンソールでエラーを確認（F12キー）
3. エラーメッセージをコピーして、再度質問してください

