# 環境変数設定確認

## 現在のデプロイURL

- **フロントエンド**: https://210-beta.vercel.app/
- **バックエンド**: https://two10-cr0b.onrender.com

## 必要な環境変数設定

### Vercel（フロントエンド）

1. [Vercelダッシュボード](https://vercel.com/dashboard) にアクセス
2. プロジェクト `210-beta` を選択
3. 「Settings」→「Environment Variables」を開く
4. 以下の環境変数が設定されているか確認:
   - **Name**: `VITE_API_URL`
   - **Value**: `https://two10-cr0b.onrender.com`
   - **Environment**: Production, Preview, Development すべてにチェック

**⚠️ 重要**: 環境変数を追加/変更した後は、必ず「Redeploy」が必要です。

### Render（バックエンド）

1. [Renderダッシュボード](https://dashboard.render.com/) にアクセス
2. サービス `two10-cr0b` を選択
3. 「Environment」タブを開く
4. 以下の環境変数が設定されているか確認:
   - **Key**: `FRONTEND_URL`
   - **Value**: `https://210-beta.vercel.app`
   - **Key**: `PORT`
   - **Value**: `10000`

## 動作確認手順

1. ブラウザで https://210-beta.vercel.app/ にアクセス
2. 開発者ツール（F12）を開く
3. 「Console」タブでエラーメッセージを確認
4. 「Network」タブで `/api/login` へのリクエストを確認
   - リクエストURLが `https://two10-cr0b.onrender.com/api/login` になっているか確認
   - レスポンスのステータスコードを確認

## トラブルシューティング

### エラー: "ログインに失敗しました。ネットワーク接続を確認してください。"

**原因**: フロントエンドがバックエンドに接続できていない

**解決方法**:
1. Vercelの環境変数 `VITE_API_URL` が正しく設定されているか確認
2. 環境変数を設定した後、必ず「Redeploy」を実行
3. ブラウザの開発者ツールの「Console」タブで、`API_URL` の値を確認

### エラー: "サーバーエラーが発生しました"

**原因**: バックエンドでエラーが発生している

**解決方法**:
1. Renderのログを確認（「Logs」タブ）
2. バックエンドの環境変数 `FRONTEND_URL` が正しく設定されているか確認

### CORSエラー

**原因**: バックエンドのCORS設定が正しくない

**解決方法**:
1. Renderの環境変数 `FRONTEND_URL` が `https://210-beta.vercel.app` に設定されているか確認
2. 末尾にスラッシュ（`/`）がないか確認

